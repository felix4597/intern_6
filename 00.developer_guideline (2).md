# 프로젝트 개요
이 저장소는 **React + TypeScript**로 구현된 단일 페이지 애플리케이션(SPA) UI로, 간단한 전자상거래 흐름(상품 목록 → 상세 → 장바구니 → 결제 → 성공)을 구현한 예제입니다. 라우팅은 **react-router-dom**, 상태 관리는 **커스텀 훅 + localStorage**를 사용합니다. 백엔드는 포함되어 있지 않으며, `src/data/`의 목업 데이터를 사용합니다. 스토리 작성 파일(`src/stories/*.stories.ts`)을 통해 **Storybook** 기반의 컴포넌트 문서화를 염두에 두고 있습니다.


# 시스템 아키텍처
클라이언트 사이드에서 전적으로 동작하는 SPA 구조입니다.

```
src/
├── components/
│   ├── payment/
│   │   ├── CardExpiryInput.tsx
│   │   ├── CardHolderInput.tsx
│   │   ├── CardList.tsx
│   │   ├── CardNumberInput.tsx
│   │   ├── CardPasswordInput.tsx
│   │   ├── CardRegistrationForm.tsx
│   │   ├── CardSecurityCodeInput.tsx
│   │   ├── FlippableCard.css
│   │   ├── FlippableCard.tsx
│   │   └── PurchaseButton.tsx
│   ├── Header.tsx
│   ├── ProductCard.test.tsx
│   ├── ProductCard.tsx
│   └── ProductList.tsx
├── data/
│   ├── cards.ts
│   └── products.ts
├── hooks/
│   └── useCartStorage.ts
├── pages/
│   ├── CartPage.tsx
│   ├── PaymentPage.tsx
│   ├── PaymentSuccessPage.tsx
│   ├── ProductDetailPage.tsx
│   └── ProductListPage.tsx
├── stories/
│   ├── assets/
│   │   ├── accessibility.png
│   │   ├── accessibility.svg
│   │   ├── addon-library.png
│   │   ├── assets.png
│   │   ├── avif-test-image.avif
│   │   ├── context.png
│   │   ├── discord.svg
│   │   ├── docs.png
│   │   ├── figma-plugin.png
│   │   ├── github.svg
│   │   ├── share.png
│   │   ├── styling.png
│   │   ├── testing.png
│   │   ├── theming.png
│   │   ├── tutorials.svg
│   │   └── youtube.svg
│   ├── button.css
│   ├── Button.stories.ts
│   ├── Button.tsx
│   ├── Configure.mdx
│   ├── header.css
│   ├── Header.stories.ts
│   ├── Header.tsx
│   ├── page.css
│   ├── Page.stories.ts
│   └── Page.tsx
├── App.tsx
├── global.d.ts
├── index.css
├── main.tsx
├── types.ts
├── vercel.json
└── vite-env.d.ts
```

- **라우팅**: `src/App.tsx`에서 `react-router-dom`의 `BrowserRouter/Routes/Route`로 페이지 전환을 구성합니다.
  - `/` → `ProductListPage`
  - `/products/:id` → `ProductDetailPage`
  - `/cart` → `CartPage`
  - `/payment` → `PaymentPage`
  - `/payment/success` → `PaymentSuccessPage`
- **상태 관리**: `src/hooks/useCartStorage.ts`가 `localStorage` 기반으로 장바구니를 영속화합니다.
- **UI 컴포넌트**: `src/components/`에 카드, 리스트, 결제 카드 입력 등 재사용 컴포넌트가 있습니다.
  - `components/payment/FlippableCard.*`는 카드 앞/뒷면 전환 UI를 담당합니다.
- **도메인 모델/목업 데이터**: `src/data/products.ts`, `src/data/cards.ts`
- **유틸/타입**: `src/types.ts`(통화 포매팅, CartItem 등)
- **정적 리소스/CSS**: `src/index.css`, 결제 카드 관련 CSS
- **스토리**: `src/stories/*.stories.ts|.mdx` (Storybook 설정 파일은 현재 포함되어 있지 않음)
- **테스트**: `components/ProductCard.test.tsx`가 존재합니다(Jest 스타일 API 사용).

# 개발 환경 설정 및 규칙
## 요구 사항
- **Node.js 18 LTS 이상** (Vite/Storybook 최신 버전 권장 환경)
- 패키지 매니저: npm 또는 pnpm 또는 yarn(팀 컨벤션 사용)

## 초기 세팅(빈 Vite 프로젝트 생성 후 `/src` 교체)
```bash
# 1) Vite 템플릿으로 새 프로젝트 생성 (React + TS)
npm create vite@latest my-shop -- --template react-ts
cd my-shop

# 2) 업로드된 src를 프로젝트의 src로 교체
rm -rf src
cp -R /path/to/uploaded/src ./src

# 3) 필수 의존성 설치
npm i react-router-dom

# 테스트/스토리북 등 도구(선택)
npm i -D @testing-library/react @testing-library/jest-dom jest jest-environment-jsdom ts-jest        eslint @typescript-eslint/parser @typescript-eslint/eslint-plugin prettier eslint-config-prettier        storybook @storybook/react-vite @storybook/addon-essentials @storybook/addon-interactions        vite-tsconfig-paths
```

## 스크립트 예시(`package.json`)
```jsonc
{
  "scripts": {
    "dev": "vite",
    "build": "tsc -b && vite build",
    "preview": "vite preview",
    "lint": "eslint . --ext .ts,.tsx",
    "format": "prettier . -w",
    "test": "jest",
    "storybook": "storybook dev -p 6006",
    "build-storybook": "storybook build"
  }
}
```

## Vite/TypeScript 기본 설정 예시
- `tsconfig.json`
```json
{
  "compilerOptions": {
    "target": "ES2020",
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "jsx": "react-jsx",
    "moduleResolution": "Bundler",
    "module": "ESNext",
    "strict": true,
    "skipLibCheck": true,
    "types": ["jest", "node"]
  },
  "include": ["src"]
}
```
- `vite.config.ts`
```ts
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';

export default defineConfig({
  plugins: [react()],
});
```

## ESLint/Prettier 기본 설정 예시
- `.eslintrc.json`
```json
{
  "root": true,
  "parser": "@typescript-eslint/parser",
  "plugins": ["@typescript-eslint", "react-refresh"],
  "extends": [
    "eslint:recommended",
    "plugin:@typescript-eslint/recommended",
    "plugin:react-hooks/recommended",
    "prettier"
  ],
  "rules": {
    "no-console": ["warn", { "allow": ["warn", "error"] }]
  }
}
```
- `.prettierrc`
```json
{
  "singleQuote": true,
  "trailingComma": "all",
  "printWidth": 100
}
```

## 테스트(Jest) 설정 예시
> `ProductCard.test.tsx`에서 `jest.fn()`을 사용하므로 Jest 환경을 권장합니다. (Vitest로 전환 시 `vi.fn()`으로 교체)

- `jest.config.ts`
```ts
import type { Config } from 'jest';

const config: Config = {
  testEnvironment: 'jsdom',
  setupFilesAfterEnv: ['@testing-library/jest-dom'],
  moduleFileExtensions: ['ts', 'tsx', 'js'],
  transform: { '^.+\.(ts|tsx)$': ['ts-jest', { tsconfig: 'tsconfig.json' }] },
  testMatch: ['**/?(*.)+(spec|test).(ts|tsx)']
};

export default config;
```

## Storybook 빠른 설정
```bash
# Storybook 초기화 (Vite 기반)
npx storybook@latest init --builder @storybook/builder-vite
# 이후 `src/stories`가 자동 감지되며, 필요 시 경로를 조정하세요.
```

## 실행 방법
```bash
npm run dev        # 개발 서버 (기본 http://localhost:5173)
npm run test       # 단위 테스트
npm run lint       # 린트 점검
npm run storybook  # 스토리북
npm run build      # 프로덕션 빌드 (dist/)
npm run preview    # 로컬 프리뷰
```

## 환경 변수
- 현재 코드에서 런타임 환경 변수 사용 흔적은 없습니다.
- Vite 사용 시 노출 가능한 클라이언트 변수는 `VITE_` 접두사가 필요합니다(예: `VITE_API_BASE_URL`).

## 브랜치/커밋 규칙(권장)
- **브랜치 전략**: `main`(배포) / `develop`(통합) / `feature/*` / `fix/*`
- **커밋 메시지**: Conventional Commits — `feat:`, `fix:`, `chore:`, `refactor:`, `test:`, `docs:` 등
- **PR 템플릿**: 배경/변경사항/테스트/체크리스트 포함

# 프로젝트에서 중요했던 지점
- **완전 클라이언트 사이드**: 백엔드 없이 라우팅·상태·결제 UI를 모두 프런트에서 처리합니다.
- **로컬 영속성**: 장바구니는 `localStorage`로 영속화되어 새로고침/재방문 시에도 유지됩니다.
- **컴포넌트 중심 설계**: `components/payment/*`로 결제 카드 입력을 모듈화하고, 시각적 상호작용(뒤집힘 애니메이션)을 별도 컴포넌트로 분리합니다.
- **스토리/테스트의 초기 토대**: `stories/`와 `*.test.tsx`가 있어 UI 캡슐화·회귀 방지 체계를 쉽게 확장할 수 있습니다.
- **배포 고려(정적 호스팅)**: `src/vercel.json`이 포함되어 있으며, 실제 배포 시 **리포지토리 루트**에 두고 Vite 정적 빌드(`dist/`)를 서빙하도록 설정하세요.

# 배포 가이드(예: Vercel)
1. 루트에 `vercel.json` 배치(현재는 `src/` 내부에 있으니 이동 필요):
```json
{
  "version": 2,
  "builds": [{ "src": "package.json", "use": "@vercel/static-build", "config": { "distDir": "dist" } }],
  "routes": [{ "src": "/(.*)", "dest": "/index.html" }]
}
```
2. Vercel 대시보드에서 프레임워크를 **Vite**로 선택하고, Build Command를 `vite build`, Output Dir를 `dist`로 설정합니다.

# 다른 문서를 어떻게 참고하면 좋을지에 대한 가이드
- **빠른 시작**: 루트 `README.md`(직접 추가)를 통해 설치/실행 방법을 간단히 안내합니다.
- **컴포넌트 문서화**: Storybook을 활성화한 뒤 `src/stories/`의 스토리를 정비하여 UI 사용 예를 축적하세요.
- **코드 규약**: `.eslintrc`, `.prettierrc`를 리포지토리 루트에 두고 팀 컨벤션을 반영하세요.
- **테스트 가이드**: `tests/` 또는 컴포넌트 인접 테스트를 채택하고, CI에서 `npm run test`를 기본 단계로 포함하세요.

> 본 문서는 업로드된 소스 구조를 기반으로 자동 생성·보완된 개발자 가이드라인입니다. 실제 팀 컨벤션과 배포 파이프라인에 맞게 자유롭게 수정하세요.
